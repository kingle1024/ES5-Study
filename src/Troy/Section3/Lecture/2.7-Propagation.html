<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Propagation</title>
    <style>
        .div {
            display: inline-block;
            padding: 30px;
            border: 2px solid black;
        }
    </style>
</head>
<!-- https://www.w3.org/TR/DOM-Level-3-Events/#event-flow -->
<body>
    <div id="bubble">
        <div class="div">
            <div class="div">
                <div class="div">bubble</div>
            </div>
        </div>
    </div>
    <div id="capture">
        <div class="div">
            <div class="div">
                <div class="div">capture</div>
            </div>
        </div>
    </div>

    <!--
        Bubbling: 조상 DOM으로 이벤트 전파
        Capturing: 후손 DOM으로 이벤트 전파
    -->
    <script>
        var bubbles = document.getElementById('bubble').getElementsByClassName('div'),
            captures = document.getElementById('capture').getElementsByClassName('div')
        ;
        // Bubbling/Capturing 여부는 addEventListener 메서드의 세 번째 매개변수로 지정 가능
        for(var i = 0, max = 3; i < max; ++i) {
            bubbles[i].addEventListener('click', function() { console.log(this); }, false);
            captures[i].addEventListener('click', function() { console.log(this); }, true);
        }
    </script>
</body>
</html>
