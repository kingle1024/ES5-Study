<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Propagation</title>
</head>
<body>
    <style>
        p, span, a {
            display: block;
            padding: 40px;
        }
        p {
            width: 160px;
            background-color: red;
        }
        span { background-color: blue; }
        a { background-color: green; }
    </style>

    <div id="preventDefault">
        <h4>preventDefault</h4>
        <p><span><a href="#temp"></a></span></p>
    </div>

    <div id="stopPropagation">
        <h4>stopPropagation</h4>
        <p><span><a href="#temp"></a></span></p>
    </div>

    <div id="stopImmediatePropagation">
        <h4>stopImmediatePropagation</h4>
        <p><span><a href="#temp"></a></span></p>
    </div>

    <script>
        var attachEvent = function(type) {
            var dom = document.getElementById(type);
            dom.querySelector('p').addEventListener('click', function(e) { console.log('P'); e[type](); });
            dom.querySelector('span').addEventListener('click', function(e) { console.log('SPAN'); e[type](); });
            dom.querySelector('a').addEventListener('click', function(e) { console.log('A'); e[type](); });
        };

        attachEvent('preventDefault');
        attachEvent('stopPropagation');
        attachEvent('stopImmediatePropagation');
    </script>
</body>
</html>